(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4154],{70994:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return s(70812)}])},41535:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(85893);s(67294);var a=s(62251);function o(e){var t,s,o,i,r,l;let c=e.running,d=(null==e?void 0:null===(o=e.codeObj)||void 0===o?void 0:null===(s=o.properties)||void 0===s?void 0:null===(t=s.result)||void 0===t?void 0:t.output)||null,p=(null==e?void 0:null===(l=e.codeObj)||void 0===l?void 0:null===(r=l.properties)||void 0===r?void 0:null===(i=r.result)||void 0===i?void 0:i.success)||null;return(0,n.jsxs)(n.Fragment,{children:[c&&(0,n.jsx)("pre",{style:{padding:20},children:"running..."}),!c&&null===d&&(0,n.jsx)("pre",{style:{padding:20},children:"Click on RUN button to see the output"}),!c&&!p&&d&&(0,n.jsx)("pre",{style:{padding:20},children:d}),!c&&p&&d&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.Z,{styles:{background:"white"},url:"https://app.onecompiler.com/".concat(d,"/"),loading:"loading...",width:"100%",height:"100%",id:"ResultBrowserIframe",className:"myClassname",display:"initial",frameBorder:0,position:"relative",sandbox:["allow-forms","allow-modals","allow-pointer-lock","allow-popups","allow-presentation","allow-same-origin","allow-scripts"],onLoad:()=>{}})})]})}},64710:function(e,t,s){"use strict";var n=s(85893);s(67294);var a=s(42468),o=s(68693),i=s(77563),r=s(21540),l=s(14327),c=s(60129);t.Z=(0,r.Z)(e=>({root:{textTransform:"none","&:hover":{color:e.palette.primary.main,opacity:1,"& $closeIcon":{visibility:"visible"}}},closeIcon:{visibility:"hidden"}}))(function(e){let{classes:t,handleEdit:s,handleDelete:r,...d}=e;return(0,n.jsx)(a.Z,{...d,className:t.root,component:"div",label:(0,n.jsxs)("span",{children:[e.label,(0,n.jsxs)("span",{className:t.closeIcon,children:[s&&(0,n.jsx)(o.ZP,{title:"Rename",placement:"top",children:(0,n.jsx)(i.Z,{onClick:e=>{e.stopPropagation(),s&&s()},size:"small",style:{marginLeft:3},children:(0,n.jsx)(c.Z,{fontSize:"small"})})}),r&&(0,n.jsx)(o.ZP,{title:"Delete",placement:"top",children:(0,n.jsx)(i.Z,{onClick:e=>{e.stopPropagation(),r&&r()},size:"small",style:{marginLeft:3},children:(0,n.jsx)(l.Z,{fontSize:"small"})})})]})]})})})},70812:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return R}});var n=s(85893),a=s(50067),o=s(37159),i=s(65222),r=s(21540),l=s(12918),c=s.n(l),d=s(9008),p=s.n(d),u=s(45697),g=s.n(u),h=s(67294),m=s(2664),f=s(76532),j=s(47774),x=s(35071),b=s(41138),v=s(40093),w=s(53008),O=s(71578),y=()=>{let{userLoggedIn:e,_id:t}=(0,m.v9)(e=>e.user),s=(0,m.I0)(),[a,o]=(0,h.useState)(!1);async function i(e){if(e&&e.credential){o(!0);let t={provider:"google_one_tap",data:{credential:e.credential}},{statusCode:n,json:a,error:i}=await (0,w.Wn)("/api/users",null,t);n<400&&a?s((0,b.n$)(a)):alert("Google OneTap login failed. Error: "+i),o(!1)}}return(0,h.useEffect)(()=>{window.document&&((0,v.Z)("https://accounts.google.com/gsi/client").onload=()=>{!window.google||e||t?console.log("Google OneTap not loaded"):(window.google.accounts.id.initialize({client_id:"748546363-11lp66se7cl6samfubad3dlsjnau8t11.apps.googleusercontent.com",callback:i,cancel_on_tap_outside:!1}),window.google.accounts.id.prompt())})},[]),(0,n.jsx)("div",{children:(0,n.jsx)(O.Z,{open:a})})},C=s(25800),k=s(55998),Z=s(76474),_=s(3849),N=s(77433),F=e=>{let{doc:t}=e;return(0,n.jsx)(n.Fragment,{children:t&&(0,n.jsxs)(_.Z,{maxWidth:"xl",children:[(0,n.jsx)("br",{}),(0,n.jsx)(N.Z,{markdown:t})]})})},S=s(19402);class T extends h.Component{static async getInitialProps(e){let{req:t,res:s,store:n,pathname:a,isServer:o,query:i}=e,r={pathname:a,query:i,codeObj:null,language:"java",timestamp:Date.now()+"_"+Math.floor(1e3*Math.random())};if(i.id){if(r.language=i.language,t&&t.services){let e=await t.services.postsService.getPost(i.id);if(200!==e.status)return r.errorCode=r.status,r;{let t=e.post;t&&t.properties.language===i.language?r.codeObj=t:t&&s.redirect(301,"/".concat(t.properties.language,"/").concat(t._id))}}}else i.language?(r.language=i.language,r.codeObj={...JSON.parse(JSON.stringify(C[i.language]))}):r.codeObj={...JSON.parse(JSON.stringify(C[r.language]))};if(t&&t.services)r.doc=t.services.docsService.getContent(r.language);else{let e=await fetch("/api/docs/".concat(r.language));r.doc=await e.text()}return r}async componentDidMount(){this.setState({isServer:!1}),this.state.codeObj||404===this.state.errorCode||await this.updateCodeWithId(this.props.query.id)}componentDidUpdate(e){this.props.timestamp!==e.timestamp&&(this.props.codeObj?this.setState({codeObj:this.props.codeObj,timestamp:this.props.timestamp,loading:!1}):this.updateCodeWithId(this.props.query.id))}render(){if(this.state.errorCode&&!this.state.loading)return(0,n.jsx)(c(),{statusCode:this.state.errorCode});let{classes:e}=this.props,t="OneCompiler - Write, run and share code online | Free online compiler with 60+ languages and databases",s=null;if(this.state.codeObj&&this.state.codeObj._id){let e=C[this.state.codeObj.properties.language].name;t="".concat(this.state.codeObj.title," - ").concat(e," - OneCompiler"),s=this.state.codeObj.description||null}else this.props.query.language&&(k[this.props.query.language].seoTitle?(t=k[this.props.query.language].seoTitle,s=k[this.props.query.language].seoDescription):t="".concat(C[this.props.query.language].name," - OneCompiler - Write, run and share ").concat(C[this.props.query.language].name," code online"));let r=null;if(this.state.codeObj){let e="".concat(this.state.codeObj.properties.language,"_").concat(this.state.timestamp);r=(0,n.jsx)(j.default,{source:"home",fullscreen:this.state.fullscreen,height:this.state.fullscreen?"calc(100vh - 50px)":"calc(100vh - 100px)",preFill:{language:this.props.language,codeObj:this.state.codeObj},handleLanguageChange:e=>{this.setState({codeObj:null,loading:!0}),Z.Router.pushRoute("/".concat(e))},handleRunComplete:(e,t)=>{if(this.state.showOneTap||this.setState({showOneTap:!0}),e&&e._id&&e._id!==this.props.query.id){let s=!0;this.props.query.id&&!t&&(s=!1),Z.Router.pushRoute("/".concat(e.properties.language,"/").concat(e._id),{shallow:s}),this.setState({codeObj:e})}},handleNewCodeClick:e=>{Z.Router.pushRoute("/".concat(e),{shallow:!0})},switchFullscreen:e=>this.setState({codeObj:e,fullscreen:!this.state.fullscreen})},e)}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(p(),{children:[(0,n.jsx)("title",{children:t}),s&&(0,n.jsx)("meta",{name:"description",content:s})]}),this.state.fullscreen&&this.state.codeObj&&(0,n.jsx)(n.Fragment,{children:r}),this.state.fullscreen&&this.state.loading&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(x.Z,{})}),!this.state.fullscreen&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Z,{disableBottomMargin:!0}),(0,n.jsx)(i.Z,{container:!0,spacing:0,justifyContent:"center",children:(0,n.jsxs)(i.Z,{item:!0,xs:12,md:12,lg:12,children:[this.state.showOneTap&&(0,n.jsx)(a.Z,{children:(0,n.jsx)(y,{})}),(0,n.jsxs)("div",{className:e.editorBox,children:[this.state.codeObj&&(0,n.jsx)(n.Fragment,{children:r}),this.state.loading&&(0,n.jsx)(x.Z,{})]})]})}),!this.state.showOneTap&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{smDown:!0,children:(0,n.jsx)("div",{style:{position:"fixed",zIndex:1,bottom:0,right:0,margin:10},className:"oc-theme-".concat(this.props.themeMode)})}),(0,n.jsx)(o.Z,{mdUp:!0,children:(0,n.jsx)("div",{className:"oc-theme-".concat(this.props.themeMode)})})]}),(0,n.jsx)(F,{language:this.props.language,doc:this.props.doc}),(0,n.jsx)(S.Z,{})]})]})}constructor(e){super(e),this.updateCodeWithId=async e=>{if(e){let t=await fetch("/api/posts/".concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.userToken)}});if(200===t.status){let e=await t.json();this.setState({errorCode:null,loading:!1,codeObj:e,timestamp:this.props.timestamp})}else this.setState({errorCode:t.status,loading:!1})}},this.props.errorCode?this.setState({errorCode:e.errorCode,codeObj:e.codeObj,timestamp:e.timestamp,loading:!e.codeObj,openModalFeedback:!1,showOneTap:!1}):this.state={isServer:!0,fullscreen:!1,doc:e.doc,errorCode:e.errorCode,codeObj:e.codeObj,timestamp:e.timestamp,loading:!e.codeObj,openModalFeedback:!1,showOneTap:!1}}}T.propTypes={classes:g().object.isRequired};var R=(0,m.$j)(e=>({loggedInUserObj:e.user,token:e.user.token,userToken:e.user.token,themeMode:e.user.theme}),{userLogin:b.n$,userLogout:b.Kv})((0,r.Z)(e=>({root:{flexGrow:1},[e.breakpoints.down("sm")]:{mainContent:{paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)}},rightColumn:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},editorBox:{boxShadow:"0 2px 10px 0 rgba(23,70,161,.11)"},feedbackButton:{position:"fixed",height:"25px",left:"100%",top:"300px",padding:"1%",transformOrigin:"0% 0%",transform:"rotate(90deg) translateX(-50%)",background:"dark"===e.palette.type?e.palette.alternate.dark:e.palette.grey[100],"&:hover":{background:"dark"===e.palette.type?e.palette.common.black:e.palette.grey[300]}}}))(T))},79742:function(e,t,s){"use strict";var n=s(25800);t.Z={createNewFileAndContent:function(e,t){let{name:s,content:n}=t;if(!t.name.includes("${i}"))return e.some(e=>e.name===s)?(alert("".concat(s," is already added")),null):{name:t.name,content:t.content};{let n=1;for(let t=1;t<=20&&(n=t,e.some(e=>e.name===s.replace(/\${i}/g,t)));t++);return{name:t.name.replace(/\${i}/g,n),content:t.content.replace(/\${i}/g,n)}}},updateFileNamesAndContent:function(e,t){if(e&&e.length>0&&"java"===t){let t=/class(\s+)([a-zA-Z0-9]+)\s*{/.exec(e[0].content);if(t&&t.length>0){let s=t[2];if(s!==e[0].name){e[0].name="".concat(s,".java");let t=e.filter(e=>"build.gradle"===e.name);if(t&&1===t.length){let e=t[0];e.content=e.content.replace(/mainClassName = .*/,"mainClassName = '".concat(s,"'"))}}}}},canHaveNewFiles:function(e){let t=!1;return e&&e.properties&&e.properties.language&&n[e.properties.language]&&n[e.properties.language].properties.newFileOptions&&n[e.properties.language].properties.newFileOptions.length>0&&(t=!0),t},canHaveImageUpload:function(e){let t=!1;return e&&e.properties&&e.properties.language&&n[e.properties.language]&&!0===n[e.properties.language].properties.enableUploadFiles&&(t=!0),t},getResult:function(e){let t=!0,s=e.stdout||"";return(e.exception||e.stderr)&&(t=!1,s&&(s+="\n"),s+=e.stderr||e.exception,s=s.trim()),s||(s="Program did not output anything!"),{success:t,output:s}},clientValidation:function(e){let t=e.properties.language;if(!t)return{status:"failed",message:"Invalid language ".concat(t)};{var s,a;if(!e.properties.files||0===e.properties.files.length)return{status:"failed",message:"no files"};let o=e.properties.files[0].name;if(o&&(!o.includes(".")||o.includes(";")))return{status:"failed",message:"invalid file name"};let i=5e5;"web"===n[t].languageType&&(i=2e6);let r=0;for(let t of e.properties.files)r+=t.content.length;return r>i?{status:"failed",message:"code is too long"}:(null===(s=e.title)||void 0===s?void 0:s.length)>100?(alert("Title length should be less than 100 characters"),{status:"failed",message:"Title length should be less than 100 characters"}):(null===(a=e.description)||void 0===a?void 0:a.length)>500?(alert("Description length should be less than 500 characters"),{status:"failed",message:"Description length should be less than 500 characters"}):{status:"success",message:""}}},downloadEditorFile:function(e,t){var s=document.createElement("a");s.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}},40093:function(e,t,s){"use strict";function n(e,t,s){let n=document.createElement("script");return n.setAttribute("async",""),s&&(n.id=s),n.src=e,t?t.appendChild(n):document.head.appendChild(n),n}s.d(t,{Z:function(){return n}})}},function(e){e.O(0,[7263,899,5792,6047,5601,350,1361,187,5192,2563,5282,546,7582,6532,7774,8314,2888,9774,179],function(){return e(e.s=70994)}),_N_E=e.O()}]);